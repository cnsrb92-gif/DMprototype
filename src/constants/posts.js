import { CHARACTERS } from './characters';

// ìºë¦­í„° ì„±ê²©ë³„ ëŒ“ê¸€ í’€
const COMMENT_POOL = {
  ann: {
    positive: [
      "ëŒ€ë°•!! ë„ˆë¬´ ì˜ˆë»!! ğŸ’•ğŸ’•",
      "ìš°ì™€ì•„ì•„ ì§„ì§œ ì¢‹ë‹¤!! ğŸ¥°",
      "ë‚˜ë„ ê°™ì´ ê°€ê³  ì‹¶ì—ˆì–´ã… ã… ",
      "ì–¸ë‹ˆ ìµœê³ !! âœ¨",
      "ì´ê±° ì‹¤í™”?? ë„ˆë¬´ ì¢‹ì•„ ë³´ì—¬!!",
      "ë¶€ëŸ¬ì›Œã… ã…  ë‚˜ë„ ë°ë ¤ê°€ì¤˜!!",
      "ì™„ì „ ì˜ ì–´ìš¸ë ¤!! ğŸ‘ğŸ‘",
    ],
    date: [
      "í—!! ë°ì´íŠ¸ ë‹¤ë…€ì˜¨ ê±°ì•¼?! ë¶€ëŸ¬ì›Œ!! ğŸ˜",
      "ë‚˜ë„ ê°™ì´ ê°€ê³  ì‹¶ì—ˆë‹¤êµ¬ã… ã… ğŸ’•",
      "ë‘˜ì´ ì§„ì§œ ì˜ ì–´ìš¸ë¦°ë‹¤!! ë˜ ê°€ì•¼ì§€?! âœ¨",
    ],
  },
  nera: {
    positive: [
      "...ê·¸ëƒ¥ ê·¸ë ‡ë„¤.",
      "ë­... ë‚˜ì˜ì§„ ì•Šë„¤.",
      "êµ³ì´ ì˜¬ë¦´ í•„ìš”ê°€ ìˆì—ˆë‚˜.",
      "ì¢‹ì•„ ë³´ì´ê¸´ í•˜ë„¤. ì¸ì •ì€ í•¨.",
      "...ë´¤ì–´. ë.",
      "í¥. í•  ì§“ ì—†ì–´ì„œ ëŒ“ê¸€ì´ë‚˜ ë‹¬ì•„ì¤Œ.",
    ],
    date: [
      "...ë°ì´íŠ¸? ì•Œì•„ì„œ ì˜ í•˜ì„¸ìš”.",
      "ê´€ì‹¬ ì—†ëŠ”ë°... ì¬ë°Œì—ˆìœ¼ë©´ ëì§€ ë­.",
      "í¥. ë‚˜ëŠ” ì§‘ì´ ë” ì¢‹ì•„. ğŸ˜’",
    ],
  },
  sofia: {
    positive: [
      "ì •ë§ ì•„ë¦„ë‹¤ìš´ ìˆœê°„ì´ë„¤ìš” ğŸ’«",
      "ì¢‹ì€ ì‹œê°„ ë³´ë‚´ì…¨êµ°ìš”. ë¶€ëŸ½ìŠµë‹ˆë‹¤.",
      "ì´ëŸ° ëª¨ìŠµë„ ì°¸ ë§¤ë ¥ì ì´ì—ìš”.",
      "ë§ˆìŒì´ ë”°ëœ»í•´ì§€ëŠ” ì‚¬ì§„ì´ë„¤ìš” â˜ºï¸",
      "ì •ë§ ë©‹ì ¸ìš”. ê°íƒ„í–ˆì–´ìš”.",
      "ì´ ë¶„ìœ„ê¸°... ë„ˆë¬´ ì¢‹ì•„ìš”.",
    ],
    date: [
      "ì¢‹ì€ ì‹œê°„ ë³´ë‚´ì…¨ë‚˜ ë´ìš”... ë¶€ëŸ½ë„¤ìš” ğŸ¥º",
      "í–‰ë³µí•œ ëª¨ìŠµì´ ëŠê»´ì ¸ìš”. ë‹¤ìŒì—” ì €ë„... ğŸ’«",
      "ì•„ë¦„ë‹¤ìš´ ì¶”ì–µì´ ë˜ì—ˆê² ë„¤ìš” â˜ºï¸",
    ],
  },
};

// ìœ ì € ëŒ“ê¸€ì— ëŒ€í•œ ìºë¦­í„° ë‹µê¸€ í’€
const REPLY_POOL = {
  ann: [
    "ã…‹ã…‹ã…‹ ê³ ë§ˆì›Œ!! ğŸ’•", "í—¤í—¤ ê·¸ì¹˜?? ğŸ˜†", "ëŒ“ê¸€ ë‹¬ì•„ì¤¬ì–´?! ê°ë™ì´ì•¼!! ğŸ¥°",
    "ì—­ì‹œ ì„¼ìŠ¤ ìˆì–´~!", "ã…‹ã…‹ ë„ˆë„ ê°™ì´ ê°€ì ë‹¤ìŒì—!!", "ë‹µê¸€ ë³´ê³  ê¸°ë¶„ ì¢‹ì•„ì¡Œì–´!!",
  ],
  nera: [
    "...ë´¤ì–´.", "ë­, ê³ ë§™ë‹¤ê³  í•´ì•¼ í•˜ë‚˜.", "...í¥.",
    "ë‹µê¸€ ë‹¬ì•„ì¤„ ì˜ë¬´ëŠ” ì—†ëŠ”ë°... ë‹¬ì•„ì¤Œ.", "ê·¸ë˜. ë­.", "...ì½ì—ˆì–´.",
  ],
  sofia: [
    "ëŒ“ê¸€ ê°ì‚¬í•´ìš” â˜ºï¸", "ì´ë ‡ê²Œ ê´€ì‹¬ ê°€ì ¸ì£¼ì‹œë‹¤ë‹ˆ... ğŸ’«", "ì½ê³  ë¯¸ì†Œ ì§€ì—ˆì–´ìš”.",
    "ì •ë§ìš”? ê¸°ë»ìš”... ğŸ¥º", "ì†Œì¤‘í•œ ëŒ“ê¸€ì´ì—ìš”. ê°ì‚¬í•©ë‹ˆë‹¤.", "ë§ˆìŒì´ ë”°ëœ»í•´ì¡Œì–´ìš”.",
  ],
};

// ë‹¤ë¥¸ ìºë¦­í„° í”¼ë“œì— ìœ ì €ê°€ ëŒ“ê¸€ ë‹¬ì•˜ì„ ë•Œ â†’ ì§ˆíˆ¬ DM í’€
const JEALOUSY_DM_POOL = {
  ann: [
    "ì•¼!! ë‚˜í•œí…ŒëŠ” ì™œ ì•ˆ ì™€?! ë‚˜ë„ ë†€ì•„ì¤˜!! ğŸ˜¤",
    "í— ë‹¤ë¥¸ ì‚¬ëŒ í”¼ë“œì— ëŒ“ê¸€ ë‹¬ì•˜ì–´?! ë‚˜ëŠ”?!",
    "ë‚˜ë„ ëŒ“ê¸€ ë‹¬ì•„ì¤˜!! ì°¨ë³„í•˜ì§€ ë§ˆ!! ğŸ¶",
    "ë‚˜ë„ í”¼ë“œ ì˜¬ë ¸ëŠ”ë°... ì™œ ë‚˜ë§Œ ì•ˆ ë´ì¤˜ã… ",
  ],
  nera: [
    "...ë‹¤ë¥¸ ì• í•œí…Œ ëŒ“ê¸€ ë‹¬ê³  ìˆëŠ” ê±°ì•¼?",
    "ë­, ê´€ì‹¬ ì—†ëŠ”ë°. ê·¼ë° ì™œ ë‚˜í•œí…ŒëŠ” ì•ˆ ì™€.",
    "...ë‚˜í•œí…Œë„ ì‹œê°„ ì¢€ ì¨. ì•„ë§ˆ ê·¸ë˜ì•¼ í• ê±¸.",
    "í¥. ë”´ ì‚¬ëŒì´ ë” ì¢‹ì€ ê±°ì§€?",
  ],
  sofia: [
    "ë‹¤ë¥¸ ë¶„ í”¼ë“œì— ëŒ“ê¸€ ë‹¤ì…¨êµ°ìš”... ì €ë„ ë³´ê³  ì‹¶ì–´ìš” ğŸ¥º",
    "í˜¹ì‹œ... ì €ë³´ë‹¤ ê·¸ ì‚¬ëŒì´ ë” ì¢‹ìœ¼ì‹  ê±´ ì•„ë‹ˆì£ ...?",
    "ì €ë„ í”¼ë“œ ì˜¬ë ¸ëŠ”ë°... í•œë²ˆ ì™€ì£¼ì‹¤ ìˆ˜ ìˆì–´ìš”...?",
    "ë‹¤ë¥¸ ì‚¬ëŒí•œí…Œ ê´€ì‹¬ ê°€ì§€ì‹œë©´... ì¢€ ì†ìƒí•´ìš”...",
  ],
};

export function getReplyForComment(charId) {
  const pool = REPLY_POOL[charId];
  return pool ? pickRandom(pool) : null;
}

export function getJealousyDM(charId) {
  const pool = JEALOUSY_DM_POOL[charId];
  return pool ? pickRandom(pool) : null;
}

function pickRandom(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

function generateComments(authorId, type = 'positive') {
  const otherIds = Object.keys(CHARACTERS).filter(id => id !== authorId);
  return otherIds.map(id => ({
    charId: id,
    text: pickRandom(COMMENT_POOL[id]?.[type] || COMMENT_POOL[id]?.positive || []),
  }));
}

export function getDateComments(authorId) {
  return generateComments(authorId, 'date');
}

const DATE_CAPTIONS = {
  ann: [
    (s) => `${s} ë‹¤ë…€ì™”ë‹¤!! ì§„ì§œ ë„ˆë¬´ ì¬ë°Œì—ˆì–´ã…‹ã…‹ã…‹ ë˜ ê°€ì!! ğŸ¥°âœ¨`,
    (s) => `ì˜¤ëŠ˜ ${s} í–ˆëŠ”ë° í–‰ë³µí•´ì„œ ë¯¸ì¹  ê²ƒ ê°™ì•„~~ ğŸ’•ğŸ¶`,
    (s) => `${s}!! ê°™ì´ ê°€ë‹ˆê¹Œ ë°±ë°° ë” ì¢‹ì•˜ì–´!! íˆíˆ ğŸ˜†`,
  ],
  nera: [
    (s) => `${s}... ëŒë ¤ê°”ìŒ. ê·¼ë° ë­... ë‚˜ì˜ì§„ ì•Šì•˜ì–´.`,
    (s) => `${s} í–ˆëŠ”ë° í”¼ê³¤í•´ ì£½ê² ì–´... ê·¼ë° ë˜ ê°€ë„ ë¨.`,
    (s) => `...${s}. ëˆ„ê°€ ë°ì´íŠ¸ë˜. ê·¸ëƒ¥ ê°„ ê±°ì•¼. ğŸ˜’`,
  ],
  sofia: [
    (s) => `ì˜¤ëŠ˜ ${s} í•¨ê»˜í•´ì„œ ì •ë§ í–‰ë³µí–ˆì–´ìš”. ë‹¤ìŒì—ë„ ê¼­... ğŸ’«`,
    (s) => `${s}... ì´ëŸ° ì‹œê°„ì´ ì˜ì›í–ˆìœ¼ë©´ ì¢‹ê² ì–´ìš”. ğŸ¥º`,
    (s) => `íŠ¹ë³„í•œ ì‚¬ëŒê³¼ ${s}. ì˜¤ëŠ˜ í•˜ë£¨ê°€ ê¿ˆë§Œ ê°™ì•„ìš”. â˜ºï¸`,
  ],
};

export function getDateCaption(charId, scenario) {
  const captions = DATE_CAPTIONS[charId];
  if (!captions) return `${scenario} ë‹¤ë…€ì™”ì–´ìš”!`;
  const fn = captions[Math.floor(Math.random() * captions.length)];
  return fn(scenario);
}

export const POSTS = {
  ann: [
    {
      id: 'ann-1',
      image: CHARACTERS.ann.levelUpImage,
      caption: 'ì˜¤ëŠ˜ ì œêµ­ì—ì„œ íƒˆì¶œ ì„±ê³µ~! ììœ ë‹¤ ììœ !! ğŸ¶âœ¨',
      likes: 1842,
      timestamp: '2ì‹œê°„ ì „',
      comments: generateComments('ann'),
    },
    {
      id: 'ann-2',
      image: CHARACTERS.ann.photoCards[0],
      caption: 'ìƒˆë¡œ ì°ì€ ì…€ì¹´! ì–´ë•Œì–´ë•Œ?? ê·€ì—½ì§€?? ì¹­ì°¬í•´ì¤˜!! ğŸ¥°ğŸ’•',
      likes: 3201,
      timestamp: '1ì¼ ì „',
      comments: generateComments('ann'),
    },
    {
      id: 'ann-3',
      image: CHARACTERS.ann.avatar,
      caption: 'ì‚°ì±… ê°€ê³  ì‹¶ë‹¤... ëˆ„ê°€ ë‚˜ë‘ ê°™ì´ ê°€ì¤„ ì‚¬ëŒ~? ğŸ•â€ğŸ¦º',
      likes: 987,
      timestamp: '3ì¼ ì „',
      comments: generateComments('ann'),
    },
  ],
  nera: [
    {
      id: 'nera-1',
      image: CHARACTERS.nera.levelUpImage,
      caption: '...ì°í˜”ë„¤. ê·€ì°®ì€ë° ì‚­ì œí•˜ê¸°ë„ ê·€ì°®ì•„.',
      likes: 4510,
      timestamp: '5ì‹œê°„ ì „',
      comments: generateComments('nera'),
    },
    {
      id: 'nera-2',
      image: CHARACTERS.nera.photoCards[0],
      caption: 'ëˆ„ê°€ ì´ ì‹œê°„ì— ê¹¨ìš°ëŠ” ê±°ì•¼... ì§„ì§œ... ğŸ˜’ğŸ¦‡',
      likes: 2780,
      timestamp: '2ì¼ ì „',
      comments: generateComments('nera'),
    },
    {
      id: 'nera-3',
      image: CHARACTERS.nera.avatar,
      caption: 'í•  ì¼: ì—†ìŒ. ì˜ˆì •: ìˆ˜ë©´. ë°©í•´ ê¸ˆì§€.',
      likes: 5102,
      timestamp: '5ì¼ ì „',
      comments: generateComments('nera'),
    },
  ],
  sofia: [
    {
      id: 'sofia-1',
      image: CHARACTERS.sofia.levelUpImage,
      caption: 'ì˜¤ëŠ˜ ì´¬ì˜ ì»¨ì…‰ì´ ë§ˆìŒì— ë“¤ì—ˆì–´ìš”. ì–´ë–¤ê°€ìš”? ğŸ’«',
      likes: 6230,
      timestamp: '3ì‹œê°„ ì „',
      comments: generateComments('sofia'),
    },
    {
      id: 'sofia-2',
      image: CHARACTERS.sofia.photoCards[0],
      caption: 'ìƒˆ ì»¬ë ‰ì…˜ ì‘ì—… ì¤‘... ì˜ê°ì´ í•„ìš”í•´ìš”. ê°™ì´ ì¹´í˜ ê°ˆë˜ìš”? â˜•âœ‚ï¸',
      likes: 4102,
      timestamp: '1ì¼ ì „',
      comments: generateComments('sofia'),
    },
    {
      id: 'sofia-3',
      image: CHARACTERS.sofia.avatar,
      caption: 'ë‹¹ì‹  ìƒê°í•˜ë©´ì„œ ë””ìì¸í–ˆì–´ìš”. ë§ˆìŒì— ë“œì‹¤ê¹Œ... ğŸ¥º',
      likes: 7891,
      timestamp: '4ì¼ ì „',
      comments: generateComments('sofia'),
    },
  ],
};
